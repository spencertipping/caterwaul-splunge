<!doctype html>
<html>
<head>
  <script src='jquery.min.js'></script>
  <script src='caterwaul.min.js'></script>
  <script src='caterwaul.std.min.js'></script>
  <script src='caterwaul.ui.min.js'></script>
  <script src='../caterwaul-splunge.js'></script>
  <script>
    $(caterwaul(':all')(function () {
      $('#splunge-test').mousemove(render(chart.slice(chart.transform().inverse().transform([e.pageX, e.pageY]) /-s.box/ [1, 1])), given.e),
      where [s                = caterwaul.splunge,

             cantor(x, y, dy) = s.bounded(s.box([x, y], [0.02, dy]),
                                          s.lazy_bounded("[s.box([x, y], [0.02, dy]), cantor(x + 0.03, y, dy / 3), cantor(x + 0.03, y + dy * 2/3, dy / 3)]".qf)),

             chart            = s.radial_chart(cantor(0, 0, 0.9), {view: s.centered_in($('#splunge-test')[0])}),
             render(c)        = c.with_context($('#splunge-test')[0].getContext('2d'),
                                               given.context [context.fillStyle = 'white', context.fillRect(-2, -2, 4, 4),
                                                              context.fillStyle = 'green', this.render("++paths, _(context), context.closePath(), context.fill()".qf, 40),
                                                              console.log('rendered #{paths} path(s)'), where [paths = 0]])]}));
  </script>
</head>
<body style='margin:0;overflow:hidden'>
  <canvas id='splunge-test' width='1024' height='600'></canvas>
</body>
</html>
