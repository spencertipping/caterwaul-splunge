(function(a){return a(a)})(function(a){var b=function(){var a=function(){return a.init.apply(a,arguments)};return a},c=typeof caterwaul=="undefined"?undefined:caterwaul,d=b();return d.deglobalize=function(){return caterwaul=c,d},d.core_initializer=a,d.context=this,d.merge=function(a){var b;for(b in a)if(a.hasOwnProperty(b))return!0}({toString:!0})?function(a){var b,c,d,e;for(b=1,c=arguments.length;b<c;++b)if(d=arguments[b])for(e in d)has(d,e)&&(a[e]=d[e]);return a}:function(a){var b,c,d,e;for(b=1,c=arguments.length;b<c;++b)if(d=arguments[b]){for(e in d)has(d,e)&&(a[e]=d[e]);d.toString&&!/\[native code\]/.test(d.toString.toString())&&(a.toString=d.toString)}return a},d.modules=[],d.module=function(a,b,c){return arguments.length===1?d[a+"_initializer"]:(a+"_initializer"in d||d.modules.push(a),c||(c=b,b=null),(d[a+"_initializer"]=b?d(b)(c):c)(d),d)},caterwaul=d}),caterwaul.module("numeric-offline-2",function(a){a.numeric_offline_2={vplus:function(a,b){return[a[0]+b[0],a[1]+b[1]]},vtimes:function(a,b){return[a[0]*b[0],a[1]*b[1]]},vminus:function(a,b){return[a[0]-b[0],a[1]-b[1]]},vscale:function(a,b){return[a[0]*b,a[1]*b]},vdot:function(a,b){return a[0]*b[0]+a[1]*b[1]},vnorm:function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])},vmin:function(a,b){return[Math.min(a[0],b[0]),Math.min(a[1],b[1])]},vmacv:function(a,b,c){return[[a[0]+b[0]*c[0],a[1]+b[1]*c[1]]]},vmax:function(a,b){return[Math.max(a[0],b[0]),Math.max(a[1],b[1])]},vmacs:function(a,b,c){return[[a[0]+b*c[0],a[1]+b*c[1]]]},vunit:function(a,b){var c=function(c){return a(c,1/b(c))};return c}.call(this,function(a,b){return[a[0]*b,a[1]*b]},function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}),vproj:function(a,b){var c=function(c,d){return a(d,b(c,d)/b(d,d))};return c}.call(this,function(a,b){return[a[0]*b,a[1]*b]},function(a,b){return a[0]*b[0]+a[1]*b[1]}),vorth:function(a,b,c){var d=function(d,f){return a(d,b(f,c(d,f)/c(f,f)))};return d}.call(this,function(a,b){return[a[0]-b[0],a[1]-b[1]]},function(a,b){return[a[0]*b,a[1]*b]},function(a,b){return a[0]*b[0]+a[1]*b[1]})}}),caterwaul.module("splunge",function(a){var b=function(b){((function(){var c=a.vplus,d=a.vtimes,f=a.vminus,g=a.vscale,h=a.vdot,i=a.vnorm,j=a.vmin,k=a.vmacv,l=a.vmax,m=a.vmacs,n=a.vunit,o=a.vproj,p=a.vorth;return b.splunge=function(){var a=Math.PI*2,e=2/Math.PI,h=function(a){return Math.atan(a)*e},k=function(a){return Math.min(Math.max(a,-1),1)},m=2.220446049250313e-16,n=1/m,o=function(a){return Math.tan(k(a)/e)},p=function(a,b){return function(c){return[a(c[0]),b(c[1])]}},q={transform:p(o,function(a){return a}),inverse:function(){return r}},r={transform:p(h,function(a){return a}),inverse:function(){return q}},s={transform:p(function(a){return a},o),inverse:function(){return t}},t={transform:p(function(a){return a},h),inverse:function(){return s}},u={transform:function(a){var b=a[0],c=a[1];return[b*Math.cos(c),b*Math.sin(c)]},inverse:function(){return v}},v={transform:function(b){var c=i(b),d=Math.atan2(b[0],b[1]);return[c,(d+a)%a]},inverse:function(){return u}},w=function(a){return{transform:function(b){return a.intern(b)},inverse:function(){return x}}},x={transform:function(a){return a},inverse:function(){return this}},y=function(){var a=arguments;return{transform:function(b){return function(a){var c,d,e,f,g;for(var f=a.length-1,e=f,d=b;e>=0;--e)c=a[e],d=c.transform(d);return d}.call(this,a)},inverse:function(){return this.inverse_!==void 0?this.inverse_:this.inverse_=function(a){return a.inverse_=this,a}.call(this,y.apply(this,function(a){var b,c,d,e,f;for(var f=new a.constructor,d=0,e=a.length;d<e;++d)b=a[d],f.push(a[e-d-1].inverse());return f}.call(this,Array.prototype.slice.call(a))))}}},z=function(a){return b.merge(a.prototype,{area:function(){return Math.abs(this.dv[0]*this.dv[1])},contains:function(a){return a[0]>=this.v[0]&&a[1]>=this.v[1]&&a[0]<=this.v[0]+this.dv[0]&&a[1]<=this.v[1]+this.dv[1]},interpolate:function(a,b){return this.scale(1-b).plus(a.scale(b))},intersect:function(a){return this.map_corners(function(b){return a.intern(b)})},transform:function(a){return c(this.v,d(a,this.dv))},union:function(a){return function(){var b=j(this.v,a.v),d=l(c(this.v,this.dv),c(a.v,a.dv));return A(b,f(d,b))}.call(this)},transform_v_with:function(a){return A(a.transform(this.v),this.dv)},transform_dv_with:function(a){return A(this.v,a.transform(this.dv))},children:function(){return[]},toString:function(){return"["+this.v[0]+","+this.v[1]+" -> "+this.dv[0]+","+this.dv[1]+"]"},intern:function(a){return j(l(a,this.v),c(this.v,this.dv))},map_corners:function(a){return function(){var b=a(this.v),d=a(c(this.v,this.dv));return D(this.data,b,f(d,b))}.call(this)},plus:function(a){return A(c(this.v,a.v),c(this.dv,a.dv))},transform_with:function(a){return function(a){return a.untransformed_=this,a}.call(this,this.map_corners(function(b){return a.transform(b)}))},scale:function(a){return A(g(this.v,a),g(this.dv,a))},bound:function(){return this},times:function(a){return A(this.v,d(a,this.dv))},inverse:function(){return A([-this.v[0]/this.dv[0],-this.v[1]/this.dv[1]],[1/this.dv[0],1/this.dv[1]])}}),a}.call(this,function(a,b){return this.v=a,this.dv=b,null}),A=function(a,b){return new z(a,b)},B=function(a){return new z(a,[1,1])},C=A([-n,-n],[2*n,2*n]),D=function(a,b,c){var d=A(b,c);return d.data=a,d},E=function(a){return new z([0,0],a)},F=A([0,0],[0,0]),G=function(a,b){var c=0,d=b||function(a){var b,c,d,e,f;for(var c=0,d=0,e=a.length;d<e;++d)b=a[d],c+=b.bound().dv[0];return c}.call(this,a);return function(a){var b,e,f,g,h;for(var h=new a.constructor,f=0,g=a.length;f<g;++f)b=a[f],h.push(function(a){return c+=b.bound().dv[0]/d,a}.call(this,b.transform_with(A([c-b.bound().v[0],0],[1/d,1]))));return h}.call(this,a)},H=function(a,b){var c=0,d=b||function(a){var b,c,d,e,f;for(var c=0,d=0,e=a.length;d<e;++d)b=a[d],c+=b.bound().dv[1];return c}.call(this,a);return function(a){var b,e,f,g,h;for(var h=new a.constructor,f=0,g=a.length;f<g;++f)b=a[f],h.push(function(a){return c+=b.bound().dv[1]/d,a}.call(this,b.transform_with(A([0,c-b.bound().v[1]],[1,1/d]))));return h}.call(this,a)},I=function(a){return b.merge(a,{interpolate:function(a,b){return L(this,a,b)},transform_with:function(a){return function(){var b=this.bound(),c=this.children();return I({bound:function(){return b.transform_with(a)},children:function(){return this.children_!==void 0?this.children_:this.children_=function(b){var c,d,e,f,g;for(var g=new b.constructor,e=0,f=b.length;e<f;++e)c=b[e],g.push(c.transform_with(a));return g}.call(this,c)}})}.call(this)}})},J=function(a){return function(){var b=function(a){var b,c,d,e,f;for(var c=a[0],d=1,e=a.length;d<e;++d)b=a[d],c=c.union(b);return c}.call(this,function(a){var b,c,d,e,f;for(var f=new a.constructor,d=0,e=a.length;d<e;++d)b=a[d],f.push(b.bound());return f}.call(this,a));return I({bound:function(){return b},children:function(){return a}})}.call(this)},K=function(a,b){var c=a.bound();return a.transform_with(y(B(c.v),E([b,b]),B([-c.v[0],-c.v[1]])))},L=function(a,b,c){return c===0?a:c===1?b:a===b?a:J([K(a,1-c),K(b,c)])},M=function(a,b){return b.bound().contains(a)?function(b){var c,d,e,f,g;for(var c=b[0],e=0,f=b.length,h;e<f;++e){c=b[e];if(h=M(a,c))return h}return!1}.call(this,b.children())||b:null},N=function(a,b){return a(b)&&function(b){var c,d,e,f,g;for(var e=0,f=b.length;e<f;++e)c=b[e],N(a,c);return b}.call(this,b.children())},O=function(a){return function(a){return null}},P=function(a){return function(b){return b.beginPath(),b.rect(a.v[0],a.v[1],a.dv[0],a.dv[1])}},Q=function(a){var b=a.transform_with(v);return function(a){return a.beginPath(),a.arc(0,0,b.v[0],b.v[1],b.v[1]+b.dv[1],!0),a.arc(0,0,b.v[0]+b.dv[0],b.v[1]+b.dv[1],b.v[1]),a.closePath()}},R=function(a,b){var d=a.transform(b);return function(e){return f(a.transform(c(b,e)),d)}},S=function(a,b){return a.transform_v_with(B(b).inverse())},T=function(a){return function(b){return b.translate(a.v[0],a.v[1]),b.scale(a.dv[0],a.dv[1]),b}},U=function(a,b){return a.transform_dv_with(E(b).inverse())},V=function(a){var b=+a.width,c=+a.height,d=Math.min(b,c);return A([b>>1,c>>1],[d>>1,d>>1])},W=function(a){return b.merge(a.prototype,{slice:function(a,b,c){return new this.constructor(this.transform_,this.path_,this.area_,c||this.view_,a||this.slice_,b||this.data_)},interpolate:function(a,b){return this.slice(this.slice_.interpolate(a.slice_,b),this.data_.interpolate(a.data_,b),this.view_.interpolate(a.view_,b))},transformed_data:function(){return this.data_.transform_with(y(this.transform_,this.slice_))},visible_data:function(a,b){return N(function(){var c=this.area_,d=b/this.view_.area();return function(b){return c(b.bound())>d&&a(b)}}.call(this),this.transformed_data())},transform_context:function(a){return function(b){return a.lineWidth/=Math.max(this.view_.dv[0],this.view_.dv[1]),b}.call(this,T(this.view_)(a))},transform:function(){return this.composite_transform_!==void 0?this.composite_transform_:this.composite_transform_=y(this.view_,this.transform_,this.slice_)},with_context:function(a,b){return function(){var c=null;return a.save(),c=b.call(this,this.transform_context(a)),a.restore(),c}.call(this)},render:function(a,b){return function(){var c=this.path_;return this.visible_data(function(b){return b.children().length||a(c(b.bound()),b)},b||1)}.call(this)},find:function(a){return M(this.transform().inverse().transform(a),this.data_)}}),a}.call(this,function(a,b,c,d,e,f){return this.transform_=a,this.path_=b,this.area_=c,this.view_=d,this.slice_=e,this.data_=f,null}),X=function(a,c){var c=b.merge({},_,c);return new W(c.transform,P,c.area,c.view,c.slice,a)},Y=function(a,c){var c=b.merge({},ba,c);return new W(c.transform,Q,c.area,c.view,c.slice,a)},Z=function(a){var b=a.dv[0];return Math.abs(a.dv[1]*(2*a.v[0]*b+b*b))},_={transform:y(w(A([-1,-1],[2,2-m])),r),slice:E([1,1]),area:function(a){return a.area()}},ba={transform:y(u,A([.5,0],[.5,a-.001]),w(A([-1,0],[2,1])),r),slice:E([1,1]),area:function(a){return Z(a.transform_with(v))}};return{tau:a,atan_scale:e,scaled_atan:h,clip:k,epsilon:m,infinity:n,scaled_tan:o,componentwise:p,x_tangent:q,x_arctangent:r,y_tangent:s,y_arctangent:t,polar_to_cartesian:u,cartesian_to_polar:v,bounding_box:w,identity_transform:x,composite:y,box_ctor:z,box:A,translate:B,bound_everything:C,rectangle:D,scale:E,bound_nothing:F,x_stack:G,y_stack:H,renderable:I,bounded:J,scale_size:K,bounded_interpolation:L,find_point:M,descend_while:N,no_path:O,rectangle_path:P,arc_path:Q,transformed_delta:R,pan:S,context_box:T,zoom:U,centered_in:V,chart_ctor:W,rectangular_chart:X,radial_chart:Y,polar_area:Z,rectangular_defaults:_,radial_defaults:ba}}.call(this)})).call(this)};return b.caterwaul_expression_ref_table={e:"caterwaul.numeric_offline_2"},b}.call(this,caterwaul.numeric_offline_2)),caterwaul.module("splunge.ui",function(a){var b=function(b){((function(){var c=a.tau,d=a.atan_scale,e=a.scaled_atan,f=a.clip,g=a.epsilon,h=a.infinity,i=a.scaled_tan,j=a.componentwise,k=a.x_tangent,l=a.x_arctangent,m=a.y_tangent,n=a.y_arctangent,o=a.polar_to_cartesian,p=a.cartesian_to_polar,q=a.bounding_box,r=a.identity_transform,s=a.composite,t=a.box_ctor,u=a.box,v=a.translate,w=a.bound_everything,x=a.rectangle,y=a.scale,z=a.bound_nothing,A=a.x_stack,B=a.y_stack,C=a.renderable,D=a.bounded,E=a.scale_size,F=a.bounded_interpolation,G=a.find_point,H=a.descend_while,I=a.no_path,J=a.rectangle_path,K=a.arc_path,L=a.transformed_delta,M=a.pan,N=a.context_box,O=a.zoom,P=a.centered_in,Q=a.chart_ctor,R=a.rectangular_chart,S=a.radial_chart,T=a.polar_area,U=a.rectangular_defaults,V=a.radial_defaults;return b.splunge_ui=function(){var a=function(a,c,d,e){var f=b(a,c,d);return"rgba("+(f[0]*255>>>0)+", "+(f[1]*255>>>0)+", "+(f[2]*255>>>0)+", "+e+")"},b=function(a,b,c){var d=c*b,e=1-Math.abs(a*6%2-1),f=c-d,g=d+f,h=e+f,i=f;return a<.5?a<1/6?[g,h,i]:a<1/3?[h,g,i]:[i,g,h]:a<2/3?[i,h,g]:a<5/6?[h,i,g]:[i,h,g]},c=function(a,b){return function(c){var d=null,e=+(new Date);return d=setInterval(function(f){return function(){var f=+(new Date);return c(b(Math.min(1,(f-e)/a))),f-e>a&&(clearInterval(d),c(1,!0))}.call(this)},30)}},d=function(a){return Math.cos(a*Math.PI)*-0.5+.5},e=c(400,d),f=function(a,b){return function(c,d){return c(b),b.fillStyle=a(d),b.fill(),b.stroke()}},g=function(a,b,c){return function(d){return b.fillStyle=b.strokeStyle,b.fillRect(-1e8,-1e8,2e8,2e8),d.with_context(b,function(b){return d.render(f(a,b),c)})}};return{rgba:a,rgb:b,animator:c,cosine_tween:d,animate:e,renderer:f,chart_renderer:g}}.call(this)})).call(this)};return b.caterwaul_expression_ref_table={e1:"caterwaul.splunge"},b}.call(this,caterwaul.splunge));