(function(a){return a(a)})(function(a){var b=function(){var a=function(){return a.init.apply(a,arguments)};return a},c=typeof caterwaul=="undefined"?undefined:caterwaul,d=b();return d.deglobalize=function(){return caterwaul=c,d},d.core_initializer=a,d.context=this,d.merge=function(a){var b;for(b in a)if(a.hasOwnProperty(b))return!0}({toString:!0})?function(a){var b,c,d,e;for(b=1,c=arguments.length;b<c;++b)if(d=arguments[b])for(e in d)has(d,e)&&(a[e]=d[e]);return a}:function(a){var b,c,d,e;for(b=1,c=arguments.length;b<c;++b)if(d=arguments[b]){for(e in d)has(d,e)&&(a[e]=d[e]);d.toString&&!/\[native code\]/.test(d.toString.toString())&&(a.toString=d.toString)}return a},d.modules=[],d.module=function(a,b,c){return arguments.length===1?d[a+"_initializer"]:(a+"_initializer"in d||d.modules.push(a),c||(c=b,b=null),(d[a+"_initializer"]=b?d(b)(c):c)(d),d)},caterwaul=d}),caterwaul.module("numeric-offline-2",function(a){a.numeric_offline_2={vplus:function(a,b){return[a[0]+b[0],a[1]+b[1]]},vtimes:function(a,b){return[a[0]*b[0],a[1]*b[1]]},vminus:function(a,b){return[a[0]-b[0],a[1]-b[1]]},vscale:function(a,b){return[a[0]*b,a[1]*b]},vdot:function(a,b){return a[0]*b[0]+a[1]*b[1]},vnorm:function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])},vmin:function(a,b){return[Math.min(a[0],b[0]),Math.min(a[1],b[1])]},vmacv:function(a,b,c){return[[a[0]+b[0]*c[0],a[1]+b[1]*c[1]]]},vmax:function(a,b){return[Math.max(a[0],b[0]),Math.max(a[1],b[1])]},vmacs:function(a,b,c){return[[a[0]+b*c[0],a[1]+b*c[1]]]},vunit:function(a,b){var c=function(c){return a(c,1/b(c))};return c}.call(this,function(a,b){return[a[0]*b,a[1]*b]},function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}),vproj:function(a,b){var c=function(c,d){return a(d,b(c,d)/b(d,d))};return c}.call(this,function(a,b){return[a[0]*b,a[1]*b]},function(a,b){return a[0]*b[0]+a[1]*b[1]}),vorth:function(a,b,c){var d=function(d,f){return a(d,b(f,c(d,f)/c(f,f)))};return d}.call(this,function(a,b){return[a[0]-b[0],a[1]-b[1]]},function(a,b){return[a[0]*b,a[1]*b]},function(a,b){return a[0]*b[0]+a[1]*b[1]})}}),caterwaul.module("splunge",function(a){var b=function(b){((function(){var c=a.vplus,d=a.vtimes,f=a.vminus,g=a.vscale,h=a.vdot,i=a.vnorm,j=a.vmin,k=a.vmacv,l=a.vmax,m=a.vmacs,n=a.vunit,o=a.vproj,p=a.vorth;return b.splunge=function(){var a=Math.PI*2,e=2/Math.PI,k=function(a){return Math.atan(a)*e},m=function(a){return Math.min(Math.max(a,-1),1)},n=2.220446049250313e-16,o=1/n,p=function(a){return Math.tan(m(a)/e)},q=function(a,b){return function(c){return[a(c[0]),b(c[1])]}},r={transform:q(p,function(a){return a}),inverse:function(){return s}},s={transform:q(k,function(a){return a}),inverse:function(){return r}},t={transform:q(function(a){return a},p),inverse:function(){return u}},u={transform:q(function(a){return a},k),inverse:function(){return t}},v={transform:function(a){var b=a[0],c=a[1];return[b*Math.cos(c),b*Math.sin(c)]},inverse:function(){return w}},w={transform:function(a){var b=i(a),c=Math.atan2(a[0],a[1]);return[b,c]},inverse:function(){return v}},x=function(a){return{transform:function(b){return a.intern(b)},inverse:function(){return y}}},y={transform:function(a){return a},inverse:function(){return this}},z=function(){var a=arguments;return{transform:function(b){return function(a){var c,d,e,f,g;for(var f=a.length-1,e=f,d=b;e>=0;--e)c=a[e],d=c.transform(d);return d}.call(this,a)},inverse:function(){return this.inverse_!==void 0?this.inverse_:this.inverse_=function(a){return a.inverse_=this,a}.call(this,z.apply(this,function(a){var b,c,d,e,f;for(var f=new a.constructor,d=0,e=a.length;d<e;++d)b=a[d],f.push(a[e-d-1].inverse());return f}.call(this,Array.prototype.slice.call(a))))}}},A=function(a){return b.merge(a.prototype,{area:function(){return Math.abs(this.dv[0]*this.dv[1])},contains:function(a){return a[0]>=this.v[0]&&a[1]>=this.v[1]&&a[0]<=this.v[0]+this.dv[0]&&a[1]<=this.v[1]+this.dv[1]},interpolate:function(a,b){return this.scale(1-b).plus(a.scale(b))},intersect:function(a){return this.map_corners(function(b){return a.intern(b)})},transform:function(a){return c(this.v,d(a,this.dv))},union:function(a){return function(){var b=j(this.v,a.v),d=l(c(this.v,this.dv),c(a.v,a.dv));return B(b,f(d,b))}.call(this)},transform_v_with:function(a){return B(a.transform(this.v),this.dv)},transform_dv_with:function(a){return B(this.v,a.transform(this.dv))},children:function(){return[]},toString:function(){return"["+this.v[0]+","+this.v[1]+" -> "+this.dv[0]+","+this.dv[1]+"]"},intern:function(a){return j(l(a,this.v),c(this.v,this.dv))},map_corners:function(a){return function(){var b=a(this.v),d=a(c(this.v,this.dv));return E(this.data,b,f(d,b))}.call(this)},plus:function(a){return B(c(this.v,a.v),c(this.dv,a.dv))},transform_with:function(a){return this.map_corners(function(b){return a.transform(b)})},scale:function(a){return B(g(this.v,a),g(this.dv,a))},bound:function(){return this},times:function(a){return B(this.v,d(a,this.dv))},inverse:function(){return B([-this.v[0]/this.dv[0],-this.v[1]/this.dv[1]],[1/this.dv[0],1/this.dv[1]])}}),a}.call(this,function(a,b){return this.v=a,this.dv=b,null}),B=function(a,b){return new A(a,b)},C=function(a){return new A(a,[1,1])},D=B([-o,-o],[2*o,2*o]),E=function(a,b,c){var d=B(b,c);return d.data=a,d},F=function(a){return new A([0,0],a)},G=B([0,0],[0,0]),H=function(a){return function(b,c){return a(b)-a(c)}},I=function(a,b){var c=b.bound();return h(f(c.v,a.v),a.dv)},J=function(a){return b.merge(a,{interpolate:function(a,b){return M(this,a,b)},transform_with:function(a){return function(){var b=this.bound(),c=this.children();return J({bound:function(){return this.bound_!==void 0?this.bound_:this.bound_=b.transform_with(a)},children:function(){return this.children_!==void 0?this.children_:this.children_=function(b){var c,d,e,f,g;for(var g=new b.constructor,e=0,f=b.length;e<f;++e)c=b[e],g.push(c.transform_with(a));return g}.call(this,c)}})}.call(this)}})},K=function(a){return function(){var b=function(a){var b,c,d,e,f;for(var c=a[0],d=1,e=a.length;d<e;++d)b=a[d],c=c.union(b);return c}.call(this,function(a){var b,c,d,e,f;for(var f=new a.constructor,d=0,e=a.length;d<e;++d)b=a[d],f.push(b.bound());return f}.call(this,a)),c=a.slice().sort(H(function(a){return I(b,a)}));return J({bound:function(){return b},children:function(){return c}})}.call(this)},L=function(a,b){var c=a.bound();return a.transform_with(z(C(c.v),F([b,b]),C([-c.v[0],-c.v[1]])))},M=function(a,b,c){return c===0?a:c===1?b:a===b?a:K([L(a,1-c),L(b,c)])},N=function(a,b){return b.bound().contains(a)?function(b){var c,d,e,f,g;for(var c=b[0],e=0,f=b.length,h;e<f;++e){c=b[e];if(h=N(a,c))return h}return!1}.call(this,b.children())||b:null},O=function(a,b){return a(b)&&function(b){var c,d,e,f,g;for(var e=0,f=b.length;e<f;++e)c=b[e],O(a,c);return b}.call(this,b.children())},P=function(a){return function(a){return null}},Q=function(a){return function(b){return b.beginPath(),b.rect(a.v[0],a.v[1],a.dv[0],a.dv[1])}},R=function(a){var b=a.transform_with(w);return function(a){return a.beginPath(),a.arc(0,0,b.v[0],b.v[1],b.v[1]+b.dv[1],!0),a.arc(0,0,b.v[0]+b.dv[0],b.v[1]+b.dv[1],b.v[1])}},S=function(a,b){var d=a.transform(b);return function(e){return f(a.transform(c(b,e)),d)}},T=function(a,b){return a.transform_v_with(C(b).inverse())},U=function(a){return function(b){return b.translate(a.v[0],a.v[1]),b.scale(a.dv[0],a.dv[1]),b}},V=function(a,b){return a.transform_dv_with(F(b).inverse())},W=function(a){var b=+a.width,c=+a.height,d=Math.min(b,c);return B([b>>1,c>>1],[d>>1,d>>1])},X=function(a){return b.merge(a.prototype,{slice:function(a,b,c){return new this.constructor(this.transform_,this.path_,this.area_,c||this.view_,a||this.slice_,b||this.data_)},interpolate:function(a,b){return this.slice(this.slice_.interpolate(a.slice_,b),this.data_.interpolate(a.data_,b),this.view_.interpolate(a.view_,b))},transformed_data:function(){return this.data_.transform_with(z(this.transform_,this.slice_))},visible_data:function(a,b){return O(function(){var c=this.area_,d=b/this.view_.area();return function(b){return c(b.bound())>d&&a(b)}}.call(this),this.transformed_data())},transform_context:function(a){return function(b){return a.lineWidth/=Math.max(this.view_.dv[0],this.view_.dv[1]),b}.call(this,U(this.view_)(a))},transform:function(){return this.composite_transform_!==void 0?this.composite_transform_:this.composite_transform_=z(this.view_,this.transform_,this.slice_)},with_context:function(a,b){return function(){var c=null;return a.save(),c=b.call(this,this.transform_context(a)),a.restore(),c}.call(this)},render:function(a,b){return function(){var c=this.path_;return this.visible_data(function(b){return b.children().length||a(c(b.bound()))},b||1)}.call(this)},find:function(a){return N(this.transform().inverse().transform(a),this.data_)}}),a}.call(this,function(a,b,c,d,e,f){return this.transform_=a,this.path_=b,this.area_=c,this.view_=d,this.slice_=e,this.data_=f,null}),Y=function(a,c){var c=b.merge({},ba,c);return new X(c.transform,Q,c.area,c.view,c.slice,a)},Z=function(a,c){var c=b.merge({},bb,c);return new X(c.transform,R,c.area,c.view,c.slice,a)},_=function(a){return Math.abs(a.dv[1]*(2*a.v[0]*a.dv[0]+a.dv[0]*a.dv[0]))},ba={transform:s,slice:F([1,1]),area:function(a){return a.area()}},bb={transform:z(v,F([1,Math.PI]),s),slice:F([1,1]),area:function(a){return _(a.transform_with(w))}},bc=x(B([-1,-1],[2,2])),bd=x(B([-1,-Math.PI],[2,a-n]));return{tau:a,atan_scale:e,scaled_atan:k,clip:m,epsilon:n,infinity:o,scaled_tan:p,componentwise:q,x_tangent:r,x_arctangent:s,y_tangent:t,y_arctangent:u,polar_to_cartesian:v,cartesian_to_polar:w,bounding_box:x,identity_transform:y,composite:z,box_ctor:A,box:B,translate:C,bound_everything:D,rectangle:E,scale:F,bound_nothing:G,by:H,dot_ordering:I,renderable:J,bounded:K,scale_size:L,bounded_interpolation:M,find_point:N,descend_while:O,no_path:P,rectangle_path:Q,arc_path:R,transformed_delta:S,pan:T,context_box:U,zoom:V,centered_in:W,chart_ctor:X,rectangular_chart:Y,radial_chart:Z,polar_area:_,rectangular_defaults:ba,radial_defaults:bb,unit_bound:bc,radial_bound:bd}}.call(this)})).call(this)};return b.caterwaul_expression_ref_table={e:"caterwaul.numeric_offline_2"},b}.call(this,caterwaul.numeric_offline_2));