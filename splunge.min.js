(function(a){return a(a)})(function(a){var d=function(){var e=function(){return e.init.apply(e,arguments)};return e},c=typeof caterwaul==="undefined"?undefined:caterwaul,b=d();
b.deglobalize=function(){caterwaul=c;return b};b.core_initializer=a;b.context=this;b.merge=(function(f){for(var e in f){if(f.hasOwnProperty(e)){return true}}})({toString:true})?function(j){for(var h=1,e=arguments.length,g;
h<e;++h){if(g=arguments[h]){for(var f in g){if(has(g,f)){j[f]=g[f]}}}}return j}:function(j){for(var h=1,e=arguments.length,g;h<e;++h){if(g=arguments[h]){for(var f in g){if(has(g,f)){j[f]=g[f]
}}if(g.toString&&!/\[native code\]/.test(g.toString.toString())){j.toString=g.toString}}}return j},b.modules=[];b.module=function(g,e,h){if(arguments.length===1){return b[g+"_initializer"]
}g+"_initializer" in b||b.modules.push(g);h||(h=e,e=null);(b[g+"_initializer"]=e?b(e)(h):h)(b);return b};return caterwaul=b});caterwaul.module("numeric-offline-2",function(a){a.numeric_offline_2={vplus:(function(d,c){return[d[0]+c[0],d[1]+c[1]]
}),vtimes:(function(d,c){return[d[0]*c[0],d[1]*c[1]]}),vminus:(function(d,c){return[d[0]-c[0],d[1]-c[1]]}),vscale:(function(d,c){return[d[0]*c,d[1]*c]}),vdot:(function(d,c){return d[0]*c[0]+d[1]*c[1]
}),vnorm:(function(b){return Math.sqrt(b[0]*b[0]+b[1]*b[1])}),vmin:(function(d,c){return[Math.min(d[0],c[0]),Math.min(d[1],c[1])]}),vmacv:(function(e,d,f){return[[e[0]+d[0]*f[0],e[1]+d[1]*f[1]]]
}),vmax:(function(d,c){return[Math.max(d[0],c[0]),Math.max(d[1],c[1])]}),vmacs:(function(e,d,f){return[[e[0]+d*f[0],e[1]+d*f[1]]]}),vunit:(function(c,d){var b=((function(e){return c(e,1/d(e))
}));return(b)}).call(this,(function(d,c){return[d[0]*c,d[1]*c]}),(function(b){return Math.sqrt(b[0]*b[0]+b[1]*b[1])})),vproj:(function(c,d){var b=((function(f,e){return c(e,d(f,e)/d(e,e))
}));return(b)}).call(this,(function(d,c){return[d[0]*c,d[1]*c]}),(function(d,c){return d[0]*c[0]+d[1]*c[1]})),vorth:(function(d,f,c){var b=((function(g,e){return d(g,f(e,c(g,e)/c(e,e)))
}));return(b)}).call(this,(function(d,c){return[d[0]-c[0],d[1]-c[1]]}),(function(d,c){return[d[0]*c,d[1]*c]}),(function(d,c){return d[0]*c[0]+d[1]*c[1]}))}});caterwaul.module("splunge",(function(b){var a=(function(c){(function(){var f=b.vplus,e=b.vtimes,i=b.vminus,h=b.vscale,g=b.vdot,m=b.vnorm,k=b.vmin,n=b.vmacv,p=b.vmax,o=b.vmacs,j=b.vunit,d=b.vproj,l=b.vorth;
return c.splunge=(function(){var R=Math.PI*2,r=2/Math.PI,an=function(ao){return Math.atan(ao)*r},U=function(ao){return Math.min(Math.max(ao,-1),1)},ab=2.220446049250313e-16,B=1/ab,K=function(ao){return Math.tan(U(ao/r))
},G=function(ao,ap){return function(aq){return[ao(aq[0]),ap(aq[1])]}},C={transform:G(K,function(ao){return ao}),inverse:function(){return E}},E={transform:G(an,function(ao){return ao
}),inverse:function(){return C}},W={transform:G(function(ao){return ao},K),inverse:function(){return af}},af={transform:G(function(ao){return ao},an),inverse:function(){return W
}},P={transform:function(ao){var aq=ao[0];var ap=ao[1];return[aq*Math.cos(ap),aq*Math.sin(ap)]},inverse:function(){return Z}},Z={transform:function(ao){var aq=m(ao);
var ap=Math.atan2(ao[0],ao[1]);return[aq,(ap+R)%R]},inverse:function(){return P}},z=function(ao){return{transform:function(ap){return(ao).intern(ap)},inverse:function(){return am
}}},am={transform:function(ao){return ao},inverse:function(){return this}},V=function(){var ao=arguments;return{transform:function(ap){return(function(at){var aq,av,ar,aw,au;
for(var aw=at.length-1,ar=aw,av=(ap);ar>=0;--ar){aq=at[ar],av=(aq.transform(av))}return av}).call(this,ao)},inverse:function(){return this.inverse_!==void 0?this.inverse_:this.inverse_=(function(ap){return ap.inverse_=this,ap
}).call(this,(V.apply(this,(function(ar){var ap,au,aq,av,at;for(var at=new ar.constructor(),aq=0,av=ar.length;aq<av;++aq){ap=ar[aq],at.push((ap.inverse()))}return at
}).call(this,Array.prototype.slice.call((ao))))))}}},S=(function(ao){return c.merge(ao.prototype,{area:function(){return this.dv[0]*this.dv[1]},contains:function(ap){return ap[0]>=this.v[0]&&ap[1]>=this.v[1]&&ap[0]<=this.v[0]+this.dv[0]&&ap[1]<=this.v[1]+this.dv[1]
},interpolate:function(aq,ap){return(this.scale(1-ap)).plus(aq.scale(ap))},intersect:function(ap){return(this).map_corners(function(aq){return(ap).intern(aq)})},transform:function(ap){return f(this.v,e(ap,this.dv))
},union:function(ap){return(function(){var ar=k(this.v,ap.v),aq=p(f(this.v,this.dv),f(ap.v,ap.dv));return u(ar,i(aq,ar))}).call(this)},toString:function(){return("[["+(this.v[0])+", "+(this.v[1])+"] -> ["+(this.dv[0])+", "+(this.dv[1])+"]]")
},intern:function(ap){return k(p(ap,this.v),f(this.v,this.dv))},map_corners:function(ap){return(function(){var ar=ap(this.v),aq=ap(f(this.v,this.dv));return al(this.data,ar,i(aq,ar))
}).call(this)},plus:function(ap){return u(f(this.v,ap.v),f(this.dv,ap.dv))},transform_with:function(ap){return(this).map_corners(function(aq){return(ap).transform(aq)
})},scale:function(ap){return u(h(this.v,ap),h(this.dv,ap))},bound:function(){return this},times:function(ap){return u(this.v,e(ap,this.dv))},inverse:function(){return u(h(this.v,-1),[1/this.dv[0],1/this.dv[1]])
}}),ao}).call(this,((function(ao,ap){return this.v=ao,this.dv=ap,null}))),u=function(ao,ap){return new S(ao,ap)},q=function(ao){return new S(ao,[1,1])},N=u([-B,-B],[2*B,2*B]),al=function(ar,ap,aq){var ao=u(ap,aq);
return(ao.data=ar,ao)},O=function(ao){return new S([0,0],ao)},ae=u([0,0],[0,0]),T=function(ap,ao){return new A(ap,ao)},ak=function(ao){return(function(ar){var ap,au,aq,av,at;
for(var av=ar.length-1,aq=av,au=(null);aq>=0;--aq){ap=ar[aq],au=(T(ap,ah(au)))}return au}).call(this,ao)},s=function(ao){return F(ao,[],(function(ap,aq){return([ap]).concat(aq())
}))},ah=function(ao){return function(){return ao}},L=function(){var ao=arguments;return ak(Array.prototype.slice.call((ao)))},F=function(ap,ao,aq){return ap?ap.reduce?ap.reduce(ao,aq):aq(ap,ao):ao()
},A=(function(ao){return c.merge(ao.prototype,{reduce:function(ap,ar){var aq=this.rest;return ar.call(this,this.first,function(at){return(function(){var au=aq();
return au?au.reduce(ap,ar):ap()}).call(this)})},transform_with:function(ap){return M(function(aq){return aq.transform_with(ap)},this)},toString:function(ap){return(""+(this.first)+" :: "+(ap?this.rest()&&this.rest().toString(ap):"...")+"")
},bound:function(){return this.bound_},interpolate:function(aq,ap){return x(this,aq,ap)}}),ao}).call(this,((function(ap,ao){return this.first=ap,this.rest=ao,this.bound_=(N).intersect(this.first.bound()),null
}))),M=function(ap,ao){return F(ao,ah(null),(function(aq,ar){return T(ap(aq),ar)}))},X=function(ap,ao){return F(ap,ao,T)||ao()},y=function(ao){return ao&&ao.first
},Q=function(ap,ao){return F(ao,ah(null),(function(aq,ar){return ap(aq)?T(aq,ar):ar()}))},ad=function(ap,ao){return F(ao,ah(ao),(function(aq,ar){return ap(aq),ar()
}))},aj=function(ap,ao){return F(ao,ah(null),(function(aq,ar){return ap(this)?T(aq,ar):null}))},ai=function(ap,ao){return !ao||ao.reduce?F(aj(ap,ao),ah(null),(function(aq,ar){return X(ai(ap,aq),ar)
})):L(ao)},t=function(ao,ap){return{bound:function(){return ap},reduce:function(aq,ar){return ar(ao,aq)}}},D=function(ap,ao){return t(ap,(ao).times([1/0,1]))},I=function(ap,ao){return t(ap,(ao).times([1,1/0]))
},ag=function(ao,ap){return(ao).transform_with(O([ap/ao.reduce(ah(0),(function(aq,ar){return aq.bound()[0]+ar()})),1]))},aa=function(ao){return D(ao,ao.first.bound())
},J=function(ao,ap){return(ao).transform_with(O([ap/ao.reduce(ah(0),(function(aq,ar){return aq.bound()[0]+ar()})),1]))},ac=function(ao){return I(ao,ao.first.bound())
},w=function(aq,ap){var ao=aq.bound();return aq.transform_with(V(q(ao.v),O([ap,ap]),q([-ao.v[0],-ao.v[1]])))},x=function(aq,ap,ao){return ao===0?aq:ao===1?ap:aq===ap?aq:aq===null?w(ap,1-ao):ap===null?w(aq,ao):T(x(aq.first,ap.first,ao).transform_with(V(aq.bound().interpolate(ap.bound(),ao),aq.bound().inverse())),function(ar){return x(aq.rest(),ap.rest(),ao)
})},H=function(ao){return function(ap){return null}},v=function(ao){return function(ap){return(ap.beginPath(),ap.rect(ao.v[0],ao.v[1],ao.dv[0],ao.dv[1]))}},Y=function(ao){var ap=(ao).transform_with(Z);
return function(aq){return((aq.beginPath(),aq.arc(0,0,ap.v[0],ap.v[1],ap.v[1]+ap.dv[1],true)),aq.arc(0,0,ap.v[0]+ap.dv[0],ap.v[1]+ap.dv[1],ap.v[1]))}};return{tau:R,atan_scale:r,scaled_atan:an,clip:U,epsilon:ab,infinity:B,scaled_tan:K,componentwise:G,x_tangent:C,x_arctangent:E,y_tangent:W,y_arctangent:af,polar_to_cartesian:P,cartesian_to_polar:Z,bounding_box:z,identity_transform:am,composite:V,box_ctor:S,box:u,translate:q,bound_everything:N,rectangle:al,scale:O,bound_nothing:ae,cons:T,cons_from_array:ak,cons_to_array:s,k:ah,list:L,reduce:F,cons_ctor:A,map:M,append:X,first:y,filter:Q,each:ad,take_outer_while:aj,descend_while:ai,bounded:t,x_shadow:D,y_shadow:I,x_compressed:ag,x_stack:aa,y_compressed:J,y_stack:ac,scale_size:w,list_interpolation:x,no_path:H,rectangle_path:v,arc_path:Y}
}).call(this)}).call(this)});a.caterwaul_expression_ref_table={e:("caterwaul.numeric_offline_2")};return(a)}).call(this,caterwaul.numeric_offline_2));